--SEQUENCIA PARA ID DE RESPONSABLE
CREATE SEQUENCE AUTO_IDRESPONSABLE INCREMENT BY 1 MINVALUE 10000001;

--PROCEDIMIENTOS PARA DAR DE ALTA A UN RESPONSABLE
CREATE OR REPLACE PROCEDURE ALTA_RESPONSABLE
(NOMBRERESP$ IN VARCHAR2,APELLIDOP$ IN VARCHAR2,APELLIDOM$ IN VARCHAR2,SEXO$ IN CHAR,EDAD$ IN NUMBER,PARENTESCO$ IN VARCHAR2,CALLE$ IN VARCHAR2,COLONIA$ IN VARCHAR2,NUMERO$ IN NUMBER,MOVIL$ IN NUMBER,TELEFONO$ IN NUMBER,HORARIO$ IN VARCHAR2)
AS
	IDRESPONSABLE_AUX  		NUMBER(8);
	AUTO_IDRESPONSABLE_AUX 	NUMBER(8);
BEGIN
	 SELECT AUTO_IDRESPONSABLE.NEXTVAL INTO AUTO_IDRESPONSABLE_AUX FROM DUAL;
	INSERT INTO RESPONSABLE(IDRESPONSABLE,NOMBRERESP,APELLIDOP,APELLIDOM,SEXO,EDAD,PARENTESCO,CALLE,COLONIA,NUMERO,MOVIL)
	VALUES(AUTO_IDRESPONSABLE_AUX,NOMBRERESP$,APELLIDOP$,APELLIDOM$,SEXO$,EDAD$,PARENTESCO$,CALLE$,COLONIA$,NUMERO$,MOVIL$);
	
	SELECT IDRESPONSABLE INTO IDRESPONSABLE_AUX FROM RESPONSABLE WHERE IDRESPONSABLE=AUTO_IDRESPONSABLE_AUX;

	INSERT INTO TELEFONOHORARIO(IDRESPONSABLE,TELEFONO,HORARIO)
	VALUES(IDRESPONSABLE_AUX,TELEFONO$,HORARIO$);

	DBMS_OUTPUT.PUT_LINE('EL RESPONSABLE HA SIDO AGREGADO');
END ALTA_RESPONSABLE;
/

EXEC ALTA_RESPONSABLE('Frederick Valentin','Alvarez','Flores','H',21,'Hermano','18 de Julio','Juarez',20,5523092471,58237232,'8.00-14.00');
EXEC ALTA_RESPONSABLE('Hector Ivanny','Salas','Lopez','H',21,'Hermano','Granada 38','Higera',38,55215582,58237232,'9.00-16.00');

--PROCEDIMIENTO PARA DAR DE BAJA UN RESPONSABLE

--PROCEDIMIENTO PARA ACTUALIZAR LOS DATOS DE UN RESPONSABLE


